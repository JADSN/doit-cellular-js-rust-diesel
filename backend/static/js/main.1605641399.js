'use strict';const h=(e,f)=>{const g=e.selector;var c=null,a=null;"undefined"===typeof e.timeOut?c=100:c=e.timeOut;"undefined"===typeof f?console.error("WFE: ERROR -> Undefined Callback function"):("undefined"!==typeof e.tries?a=e.tries:a=0,a+=1,null!=document.querySelector(g)?f():50>a?setTimeout(()=>{h({selector:`${g}`,timeOut:c,tries:a},f)},c):console.error(`WFE: ERROR -> Exausted tries(${a})!: ${g}`))},q=()=>{var e=document.querySelector("input#inp-add-task-description").value;const f=async a=>
{const b=await g(a);await c(b);h({selector:"div#div-entryponint-task"},()=>{"CREATED"===b.status&&(document.querySelector("input#inp-add-task-description").value="",n("CreateTask"),p("CreateTask"))})},g=async a=>{a=JSON.stringify({description:a,done:!1});return await fetch("http://localhost:8080/api/tasks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then(b=>b.json()).catch(()=>JSON.parse('{ "status": false }'))},c=async()=>"";-1!==["ShowAllTasksPage"].indexOf("ShowAllTasksPage")&&
f(e)},r=e=>{const f=async a=>{const b=await g(a);await c(b);h({selector:"div#div-entryponint-task"},()=>{"DELETED"===b.status&&(n("DeleteTask"),p("DeleteTask"))})},g=async a=>{a=a.split("-").pop();return await fetch(`${"http://localhost:8080"}/api/tasks/${parseInt(a,10)}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(b=>b.json()).catch(()=>JSON.parse('{ "deleted": false }'))},c=async()=>"";-1!==["ShowAllTasksPage"].indexOf("ShowAllTasksPage")&&f(e)},
u=()=>{var e={username:document.querySelector("#inp-login-username").value,password:document.querySelector("#inp-login-password").value};const f=async a=>{const b=await g(a);await c(b);switch(b){case "ALREADYEXISTS":h({selector:"span#span-msg"},()=>{const d=document.querySelector("span#span-msg");d.classList.add("error-msg");d.innerHTML=b;setTimeout(()=>{d.classList.remove("error-msg");d.innerText=""},3E3)});break;case "CREATED":h({selector:"span#span-msg"},()=>{const d=document.querySelector("span#span-msg");
d.classList.add("ok-msg");d.innerHTML=b;setTimeout(()=>{d.classList.remove("ok-msg");d.innerText=""},3E3)}),setTimeout(()=>{t("InsertOneUser")},2E3)}},g=async a=>{a=JSON.stringify(a);return await fetch("http://localhost:8080/api/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then(async b=>(await b.json()).status).catch(b=>{JSON.parse(b.toString())})},c=async()=>"";-1!==["ShowSignUpPage"].indexOf("ShowSignUpPage")&&f(e)},y=()=>{var e={username:document.querySelector("#inp-login-username").value,
password:document.querySelector("#inp-login-password").value};const f=async a=>{const b=await g(a);await c(b);switch(b){case "AUTHORIZED":w();x("IsValidAuth",["ABOUT","RELEASES","LOGOUT"]);break;case "UNAUTHORIZED":h({selector:"span#span-msg"},()=>{const d=document.querySelector("span#span-msg");d.classList.add("error-msg");d.innerHTML=b;setTimeout(()=>{d.classList.remove("error-msg");d.innerText=""},3E3)});break;default:h({selector:"span#span-msg"},()=>{const d=document.querySelector("span#span-msg");
d.classList.add("error-msg");d.innerHTML=b.ERROR;setTimeout(()=>{d.classList.remove("error-msg");d.innerText=""},3E3)})}},g=async a=>{a=JSON.stringify(a);return await fetch("http://localhost:8080/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then(async b=>(await b.json()).status).catch(b=>JSON.parse(b.toString()))},c=async()=>"";-1!==["ShowSignInPage","ShowTasksBarbonePage"].indexOf("ShowSignInPage")&&f(e)},z=()=>{const e=async c=>{c=await f(c);
const a=await g(c);h({selector:"div#div-main-content"},()=>{document.querySelector("div#div-main-content").innerHTML=a})},f=async c=>c,g=async()=>'\n    <div class="content">\n        <img class="img-me img-me-brightness" src="./assets/img/me.png" alt="me">\n        <h1 class="about-identifier">MR.ELMUST</h1>\n    </div>\n    ';-1!==["ShowBarebonePage","ShowNavbarPage"].indexOf("ShowNavbarPage")&&e(null)},n=e=>{const f=async a=>{const b=await g(a),d=await c(b);h({selector:"div#div-all-tasks"},()=>
{document.querySelector("div#div-all-tasks").innerHTML=d;document.querySelector("button#btn-task-add").addEventListener("click",()=>{q()})});h({selector:"ul#ul-task-list"},()=>{b.forEach(k=>{const l=k.id;document.querySelector(`input#inp-task-description-${l}`).value=k.description;document.querySelector(`input#inp-task-done-${l}`).checked=k.done});document.querySelectorAll("ul#ul-task-list > li > button").forEach(k=>{k=k.getAttribute("id");const l=document.getElementById(k);switch(k.split("-")[1]){case "edit":l.addEventListener("click",
m=>{A(m.target.id)});break;case "delete":l.addEventListener("click",m=>{l.parentElement.remove();r(m.target.id)})}})})},g=async()=>await fetch("http://localhost:8080/api/tasks").then(a=>a.json()).then(a=>a.tasks),c=async a=>{let b="";a.forEach(d=>{d=d.id;b+=`
        <li id="li-task-item-${d}">
            <input class="task-inp-desc" type="text" name="inp-task-description-${d}" id="inp-task-description-${d}">

            <!-- Custom Checkbox -->
            <label class="cb-container">
                <input type="checkbox" name="inp-task-done-${d}" id="inp-task-done-${d}">
                <span class="cb"></span>
            </label>

            <button class="btn-edit" id="btn-edit-${d}">EDIT</button>

            <button class="btn-delete" id="btn-delete-${d}">DELETE</button>
        </li>`});return`
    <div id="div-add-task" class="div-add-task">
        <input class="border" type="text" name="inp-add-task-description" id="inp-add-task-description"
            placeholder="Description Task">
        <button class="border btn-task-add" class="uk-button uk-button-primary" id="btn-task-add">ADD</button>
    </div>

    <ul id="ul-task-list">${b}</ul>
    `};-1!==["ShowTasksBarbonePage","CreateTask","UpdateTask","DeleteTask"].indexOf(e)&&f(null)},D=()=>{const e=async c=>{c=await f(c);const a=await g(c);h({selector:"div#app"},()=>{document.querySelector("div#app").innerHTML=a;x("ShowBarebonePage",["SIGN IN","SIGN UP","ABOUT","RELEASES"]);B("ShowBarebonePage");C()})},f=async c=>c,g=async()=>'\n    <div class="container">\n        <div id="div-navbar" class="div-navbar"></div>\n        <div id="div-main-content" class="div-main-content"></div>\n        <div id="div-footer" class="div-footer"></div>\n    </div>\n    ';
-1!==["InitialState"].indexOf("InitialState")&&e(null)},p=e=>{const f=async a=>{a=await g(a);const b=await c(a);h({selector:"div#div-task-counter"},()=>{document.querySelector("div#div-task-counter").innerHTML=b})},g=async()=>(await (await fetch("http://localhost:8080/api/tasks/count")).json()).count,c=async a=>`<span>COUST TASKER:<span id="span-task-count">( ${a} )</span></span>`;-1!==["ShowTasksBarbonePage","CreateTask","DeleteTask"].indexOf(e)&&f(null)},C=()=>{const e=async c=>{c=await f(c);const a=
await g(c);h({selector:"div#div-footer"},()=>{document.querySelector("div#div-footer").innerHTML=a})},f=async c=>c,g=async()=>'\n    <div class="copyright">\n        <p>&copy; 2020 W4<p>\n    </div>\n    ';-1!==["ShowBarebonePage"].indexOf("ShowBarebonePage")&&e(null)},B=e=>{const f=async a=>{a=await g(a);const b=await c(a);h({selector:"div#div-main-content"},()=>{document.querySelector("div#div-main-content").innerHTML=b;x("ShowHomePage",["SIGN IN","SIGN UP","ABOUT","RELEASES"])})},g=async a=>a,
c=async()=>'\n    <div class="content">\n        <span class="about-span-task-manager">TASK MANAGER<br>DON\'T WORRY BE HAPPY</span>\n    </div>\n    ';-1!==["ShowBarebonePage","ShowNavbarPage"].indexOf(e)&&f(null)},x=(e,f)=>{const g=async b=>{b=await c(b);const d=await a(b);h({selector:"div#div-navbar"},()=>{document.querySelector("div#div-navbar").innerHTML=d});h({selector:"a#doit-logo"},()=>{document.querySelector("a#doit-logo").addEventListener("click",()=>{B("ShowNavbarPage")})});h({selector:"a#a-about"},
()=>{document.querySelector("a#a-about").addEventListener("click",()=>{z()})});null!==document.querySelector("a#a-sign-in")&&document.querySelector("a#a-sign-in").addEventListener("click",()=>{t("ShowNavbarPage")});null!==document.querySelector("a#a-sign-up")&&document.querySelector("a#a-sign-up").addEventListener("click",()=>{E()});h({selector:"a#a-releases"},()=>{document.querySelector("a#a-releases").addEventListener("click",()=>{F()})});null!==document.querySelector("a#a-logout")&&h({selector:"a#a-logout"},
()=>{document.querySelector("a#a-logout").addEventListener("click",()=>{B("ShowNavbarPage")})})},c=async b=>b,a=async b=>{let d="";b.forEach(k=>{const l=k.toLowerCase().split(" ");d+=`<a id="${"a-"+l.join("-")}" "href="/${l.join("")}">
                ${k}
            </a>`});return`
    <span class="span-doit"> <a id="doit-logo" href="#">DOIT</a></span>
    <nav class="nav-right">
        ${d}
    </nav>
    `};-1!==["ShowBarebonePage","ShowSignInPage","ShowSignUpPage","ShowHomePage","IsValidAuth"].indexOf(e)&&g(f)},G=(e,f)=>{const g=async b=>{const d=await c(f),k=await a(d);h({selector:b},()=>{document.querySelector(b).addEventListener("input",l=>{var m=l.target.value.length;const v=`span#span-min-chars-${k}`;document.querySelector(v).textContent=m;21<=m&&(document.querySelector(v).textContent=20);20<m&&(m=l.target.value.split(""),m.pop(),l.target.value=m.join(""))})})},c=async b=>b.split("-").pop(),
a=async b=>b;-1!==["ShowSignInPage","ShowSignUpPage"].indexOf(e)&&g(f)},F=()=>{const e=async c=>{c=await f(c);const a=await g(c);h({selector:"div#div-main-content"},()=>{document.querySelector("div#div-main-content").innerHTML=a})},f=async c=>c,g=async()=>'\n    <div class="content">\n        <div class="changelog">\n            <span class="changelog-date">1.1.1 (October 20, 2020)</span>\n\n            <ul>\n                <br>\n\n                <li class="changelog-item">\n                    <span class="changelog-status-added">ADDED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                    </span>\n                </li>\n                <li class="changelog-item">\n                    <span class="changelog-status-changed">CHANGED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                        Lorem tempor ad laboris est Lorem.</span>\n                </li>\n                <li class="changelog-item">\n                    <span class="changelog-status-fixed">FIXED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                        Lorem tempor ad laboris est Lorem.</span>\n                </li>\n                <li class="changelog-item">\n                    <span class="changelog-status-deprecated">DEPRECATED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                        Lorem tempor ad laboris est Lorem.</span>\n                </li>\n            </ul>\n        </div>\n\n        <hr />\n\n        <div class="changelog">\n            <span class="changelog-date">1.1.1 (October 20, 2020)</span>\n\n            <ul>\n                <br>\n\n                <li class="changelog-item">\n                    <span class="changelog-status-added">ADDED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                    </span>\n                </li>\n                <li class="changelog-item">\n                    <span class="changelog-status-changed">CHANGED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                        Lorem tempor ad laboris est Lorem.</span>\n                </li>\n                <li class="changelog-item">\n                    <span class="changelog-status-fixed">FIXED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                        Lorem tempor ad laboris est Lorem.</span>\n                </li>\n                <li class="changelog-item">\n                    <span class="changelog-status-deprecated">DEPRECATED: </span>\n                    <span class="changelog-description">Sit anim reprehenderit sit laborum aute non non\n                        Lorem tempor ad laboris est Lorem.</span>\n                </li>\n            </ul>\n        </div>\n\n        <hr />\n\n\n    </div>\n    ';
-1!==["ShowNavbarPage"].indexOf("ShowNavbarPage")&&e(null)},t=e=>{const f=async a=>{a=await g(a);const b=await c(a);h({selector:"div#div-main-content"},()=>{document.querySelector("div#div-main-content").innerHTML=b;G("ShowSignInPage","input#inp-login-username");G("ShowSignInPage","input#inp-login-password")});h({selector:"button#btn-sign-in"},()=>{document.querySelector("button#btn-sign-in").addEventListener("click",()=>{x("ShowSignInPage",["SIGN IN","SIGN UP","ABOUT","RELEASES"]);y()})})},g=async a=>
a,c=async()=>'\n        <div class="content"> \n            <span id="span-login" class="span-login">LOGIN</span>\n            <span id="span-msg" class="span-msg"></span>\n\n            <label for="inp-login-username">USERNAME (<span id="span-min-chars-username">0</span> / 20)</label>\n            <div class="div-inp-and-msg">\n                <h6 id="h6-inp-username-msg"></h6>\n                <input type="text" placeholder="USERNAME" id="inp-login-username">\n            </div>\n\n            <label for="inp-login-password">PASSWORD (<span id="span-min-chars-password">0</span> / 20)</label>\n\n            <div class="div-inp-and-msg">\n                <h6 id="h6-inp-password-msg"></h6>\n                <input type="password" placeholder="PASSWORD" id="inp-login-password">\n\n                <div id="div-tooltip-entrypoint"></div>\n            </div>\n\n            <button type="button" id="btn-sign-in" class="btn-sign-in" >SIGN IN</button>\n    </div>\n    ';
-1!==["ShowNavbarPage","InsertOneUser"].indexOf(e)&&f(null)},E=()=>{const e=async c=>{c=await f(c);const a=await g(c);h({selector:"div#div-main-content"},()=>{document.querySelector("div#div-main-content").innerHTML=a;G("ShowSignUpPage","input#inp-login-username");G("ShowSignUpPage","input#inp-login-password");H()});h({selector:"button#btn-sign-up"},()=>{document.querySelector("button#btn-sign-up").addEventListener("click",()=>{x("ShowSignUpPage",["SIGN IN","ABOUT","RELEASES","LOGOUT"]);u()})})},
f=async()=>!0,g=async()=>'\n    <div class="content">\n            <span id="span-login" class="span-login">CREATE NEW ACCOUNT</span>\n            <span id="span-msg" class="span-msg"></span>\n\n            <label for="inp-login-username">USERNAME (<span id="span-min-chars-username">0</span> / 20)</label>\n            <div class="div-inp-and-msg">\n                <h6 id="h6-inp-username-msg"></h6>\n                <input type="text" placeholder="USERNAME" id="inp-login-username">\n            </div>\n\n            <label for="inp-login-password">PASSWORD (<span id="span-min-chars-password">0</span> / 20)</label>\n\n            <div class="div-inp-and-msg">\n                <h6 id="h6-inp-password-msg"></h6>\n                <input type="password" placeholder="PASSWORD" id="inp-login-password">\n\n                <div id="div-tooltip-entrypoint"></div>\n            </div>\n\n            <button type="button" id="btn-sign-up" class="btn-sign-up" >SIGN UP</button>\n    </div>\n    ';
-1!==["ShowNavbarPage"].indexOf("ShowNavbarPage")&&e(null)},H=()=>{const e=async c=>{c=await f(c);const a=await g(c);h({selector:"input#inp-login-password"},()=>{let b=0;document.querySelector("input#inp-login-password").addEventListener("mouseover",()=>{b+=1;1===b?(document.querySelector("div#div-tooltip-entrypoint").insertAdjacentHTML("afterbegin",a),document.querySelector("div#div-tooltip-entrypoint > div > span").style.visibility="visible",document.querySelector("div#div-tooltip-entrypoint > div > span").addEventListener("copy",
async()=>{const d=await navigator.clipboard.readText();document.querySelector("input#inp-login-password").value=d;document.querySelector("span#span-min-chars-password").textContent=d.length;document.querySelector("div#div-tooltip-entrypoint > div > span").remove()})):b=2})})},f=async()=>(await (await fetch("http://localhost:8080/api/password")).json()).password,g=async c=>`
    <div class="tooltip" id="div-tooltip-password">
        <span id="div-tooltip-password-text" class="tooltiptext">${c}</span>
    </div>`;-1!==["ShowLoginPage","ShowSignUpPage"].indexOf("ShowSignUpPage")&&e(null)},w=()=>{const e=async c=>{c=await f(c);const a=await g(c);h({selector:"div#div-main-content"},()=>{document.querySelector("div#div-main-content").innerHTML=a;p("ShowTasksBarbonePage");n("ShowTasksBarbonePage")})},f=async c=>c,g=async()=>'\n    <div id="div-entryponint-task" class="div-entryponint-task">\n        <div id="div-task-counter" class="div-counter"></div>\n        <div id="div-all-tasks"</div>\n    </div>';
-1!==["IsValidAuth"].indexOf("IsValidAuth")&&e(null)},A=e=>{const f=async a=>{const b=await g(a);await c(b);h({selector:"div#div-entryponint-task"},()=>{"UPDATED"===b.status&&n("UpdateTask")})},g=async a=>{var b=document.getElementById(a),d=b.parentElement.firstElementChild.value;b=b.parentElement.children[1].firstElementChild.checked;a=a.split("-").pop();a=parseInt(a,10);d=JSON.stringify({description:d,done:b});return await fetch(`${"http://localhost:8080"}/api/tasks/${a}`,{method:"PUT",headers:{Accept:"application/json",
"Content-Type":"application/json"},body:d}).then(k=>k.json()).catch(()=>JSON.parse('{ "updated": false }'))},c=async()=>"";-1!==["ShowAllTasksPage"].indexOf("ShowAllTasksPage")&&f(e)};((e,f)=>{const g=async b=>{b=await c(b);await a(b);D()},c=async b=>b,a=async b=>`<span>${b}</span>`;-1!==["main"].indexOf(e)&&g(f)})("main",null);
